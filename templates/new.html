{% extends 'base.html' %}
{% block content %}
  <div class="container-fluid">
    <div class="row">
      <div class="col-xs-12 col-md-5 col-md-offset-1" id="choreo">
        <h2>{{ title }}</h2>

        <ol>
        {% set tags = ["A1", "A2", "B1", "B2"] %}
        {% set i = 0 %}
        {% for phrase in dance %}
            <li>
              <span class="tags">({{ tags[i] }})</span>
                {% for move in phrase %}
                  <span class="moves">
                    {{ move }}
                  </span>
                {% endfor %}
            </li>
            {% set i = i + 1 %}
        {% endfor %}
        </ol>
      </div>

      <div class="col-xs-12 col-md-5" id="clips">
        <div id="clips">
          <img src="../static/something.gif" width="fill"></img>
        </div>

        <script>
          var vidKeys = Object.keys(vids);
          var vidsNum = vidKeys.length;
          for (i=0, i < vidsNum; i++){
            document.body.innerHTML = document.body.innerHTML.replace('/' + vidKeys[i] + '/', '<a class="visual_move" data="../static/' + vids[vidKeys[i]] + '">'vidKeys[i] + '</a>');
          }

          $('.visual_move').on('click', function(){playMove(data); });

          function playMove(moveId){
            $('#clips').innerHTML('<video src=' + movieId + 'autoplay></video>')
          }
        </script>
      </div>
    </div>
  </div>

{% endblock %}